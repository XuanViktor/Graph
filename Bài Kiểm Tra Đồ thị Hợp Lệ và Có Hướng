#include <stdio.h>

#define MAX 10
#define inputfile "M:\Test1-03.txt"

typedef struct graph{
	int n;
	int a[MAX][MAX];
}Dothi;

int read(const char file[], Dothi &g){
	FILE* f;
	f = fopen(file, "rt");
	if (f == NULL){
		printf("Khong mo duoc file\n");
		return 0;
	}
	fscanf(f, "%d", &g.n);
	for (int i = 0; i < g.n; i++){
		for (int j = 0; j < g.n; j++){
			fscanf(f, "%d", &g.a[i][j]);
		}
	}
	fclose(f);
	return 1;
}

void out(Dothi g){
	printf("So dinh cua do thi la %d\n", g.n);
	printf("Ma tran ke cua do thi la: \n");
	for (int i = 0; i < g.n; i++){
		printf("\t");
		for (int j = 0; j < g.n; j++){
			printf("%4d ", g.a[i][j]);
		}
		printf("\n");
	}
}

int checkHopLe(Dothi g){
	for (int i = 0; i < g.n; i++){
		for (int j = 0; j < g.n; j++){
			if (g.a[i][j] != 0 && i == j){
				return 0;
			}
		}
	}
	return 1;
}

int checkVoHuong(Dothi g){
	for (int i = 0; i < g.n; i++){
		for (int j = 0; j < g.n; j++){
			if (g.a[i][j] != g.a[j][i]){
				return 0;
			}
		}
	}
	return 1;
}

int main(){
	Dothi g;
	if (read(inputfile, g) == 1) {
		printf("Doc thong tin do thi tu file thanh cong.\n\n");
		out(g);
		printf("Do thi co ma tran ke: %s\n", checkHopLe(g) == 1 ? "hop le" : "khong hop le");
		printf("Do thi thuoc dang: %s\n", checkVoHuong(g) == 1 ? "Vo huong" : "Co Huong");
	}
	return 0;
}




